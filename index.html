<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Packing list PA</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header>
    <h1>PA Packed</h1>
    <div class="nav-container">
      <nav id="navMenu">
        <a href="index.html">List</a>
        <a href="location.html">Location</a>
      </nav>
      <div class="header-buttons">
        <input type="text" id="searchBar" placeholder="Search..." />
        <button class="dark-toggle" id="darkToggle">🌙</button>
        <button class="hamburger" id="hamburgerMenu">☰</button>
      </div>
    </div>
  </header>

  <!-- ===== MAIN CONTENT ===== -->
  <main>
    <section class="card" data-title="1">
      <h2 id="1">1</h2>
        <div class="image-gallery">
        <img src="img/Sweatshirts_1.jpg" alt="Sweatshirts" data-index="0">
        </div>
      <p>Contents: sweatshirts, sweaters, hoodies</p>
    </section>

    <section class="card" data-title="2">
      <h2 id="2">2</h2>
      <div class="image-gallery">
        <img src="img/2_base.JPG" alt="plates" data-index="1">
        <img src="img/2_top.jpg" alt="diapers" data-index="2">
      <p>Contents: plates, bowls, cups, wine glasses, shaker bottles, measuring cup, 
      pitcher, extra 1 diapers</p>


    </section>

    <section class="card" data-title="3">
      <h2 id="3">3</h2>
      <p>Contents: </p>
    </section>
    <section class="card" data-title="4">
      <h2 id="4">4</h2>
      <p>Contents: </p>
    </section>
    <section class="card" data-title="5">
      <h2 id="5">5</h2>
      <p>Contents: </p>
    </section>
  </main>
  <section class="card" data-title="Gallery Example">
  <h2>Our Work</h2>
  <div class="image-gallery">
    <img src="img/Sweatshirts_1.jpg" alt="Sweatshirts" data-index="0">
  </div>
</section>

<!-- Modal for Enlarged Image -->
<div id="imageModal" class="modal">
  <span class="modal-close">&times;</span>
  <img class="modal-content" id="modalImg">
  <div id="caption"></div>
</div>

  <!-- ===== FOOTER ===== -->
  <footer>
    <p>&#9936;</p>
  </footer>

  <!-- ===== SCRIPT ===== -->
  <script>
    // ===== DARK MODE TOGGLE WITH MEMORY =====
    const darkToggle = document.getElementById('darkToggle');
    if (localStorage.getItem('darkMode') === 'enabled') {
      document.body.classList.add('dark-mode');
      darkToggle.textContent = '☀️';
    }

    darkToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const darkModeStatus = document.body.classList.contains('dark-mode') ? 'enabled' : 'disabled';
      localStorage.setItem('darkMode', darkModeStatus);
      darkToggle.textContent = darkModeStatus === 'enabled' ? '☀️' : '🌙';
    });

    // ===== SEARCH FUNCTION =====
    const searchBar = document.getElementById('searchBar');
    const cards = document.querySelectorAll('.card');

    searchBar.addEventListener('keyup', () => {
      const searchText = searchBar.value.toLowerCase();
      cards.forEach(card => {
        const title = card.getAttribute('data-title').toLowerCase();
        const content = card.textContent.toLowerCase();
        if (title.includes(searchText) || content.includes(searchText)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });

    // ===== MOBILE MENU TOGGLE =====
    const hamburgerMenu = document.getElementById('hamburgerMenu');
    const navMenu = document.getElementById('navMenu');

    hamburgerMenu.addEventListener('click', () => {
      navMenu.classList.toggle('nav-open');
    });
    // ===== IMAGE GALLERY MODAL =====
    const modal = document.getElementById("imageModal");
  const modalImg = document.getElementById("modalImg");
  const captionText = document.getElementById("caption");
  const closeBtn = document.querySelector(".modal-close");
  const galleryImages = document.querySelectorAll(".image-gallery img");

  let currentIndex = 0;
  let startX = 0;

  // Open modal
  galleryImages.forEach(img => {
    img.addEventListener("click", function () {
      currentIndex = parseInt(this.getAttribute("data-index"));
      openModal();
    });
  });

  function openModal() {
    modal.style.display = "block";
    document.body.classList.add("modal-open");
    updateModalContent();
  }

  function closeModal() {
    modal.style.display = "none";
    document.body.classList.remove("modal-open");
  }

  function updateModalContent() {
    const img = galleryImages[currentIndex];
    modalImg.src = img.src;
    captionText.textContent = img.alt;
  }

  // Close events
  closeBtn.addEventListener("click", closeModal);
  modal.addEventListener("click", e => {
    if (e.target === modal) closeModal();
  });

  // Swipe detection
  modal.addEventListener("touchstart", e => {
    startX = e.touches[0].clientX;
  });

  modal.addEventListener("touchend", e => {
    let endX = e.changedTouches[0].clientX;
    let diff = startX - endX;

    if (Math.abs(diff) > 50) { // Swipe threshold
      if (diff > 0) {
        // Swipe left → next image
        currentIndex = (currentIndex + 1) % galleryImages.length;
      } else {
        // Swipe right → prev image
        currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
      }
      updateModalContent();
    }
  });

  // Keyboard navigation
  document.addEventListener("keydown", e => {
    if (modal.style.display === "block") {
      if (e.key === "ArrowRight") {
        currentIndex = (currentIndex + 1) % galleryImages.length;
        updateModalContent();
      }
      if (e.key === "ArrowLeft") {
        currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
        updateModalContent();
      }
      if (e.key === "Escape") closeModal();
    }
  });
  </script>

</body>
</html>